/* Load fonts first (safer to keep @import at top in many build setups) */
@import url("https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,400;9..144,600;9..144,700&family=Inter:wght@300;400;500;600;700&display=swap");

/* Tailwind layers */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================
   BASE: fonts, tokens, resets
   ========================= */
@layer base {
  :root {
    /* Typography families */
    --font-display: "Fraunces";
    --font-sans: "Inter";
    --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New";

    /* ===== Brand & palette ===== */
    --brand: 189 48% 26%;            /* #225862 — deep teal (PRIMARY) */
    --brand-foreground: 0 0% 100%;   /* white */

    --terracotta: 17 73% 61%;        /* #E47B53 — terracotta */
    --terracotta-foreground: 0 0% 100%;

    --tertiary: 64 85% 76%;          /* #EFF690 — soft yellow */
    --tertiary-foreground: 0 0% 12%;

    --quaternary: 182 43% 84%;       /* #C5E7E8 — calm aqua */
    --quaternary-foreground: 189 48% 20%;

    --section-cream: 38 25% 94%;     /* #F3F0EB — warm cream */

    /* ===== Semantic tokens ===== */
    --background: 30 33% 98%;
    --foreground: 222 28% 12%;

    --card: 0 0% 100%;
    --card-foreground: var(--foreground);

    --popover: 0 0% 100%;
    --popover-foreground: var(--foreground);

    --primary: var(--brand);
    --primary-foreground: var(--brand-foreground);

    --muted: 25 20% 94%;
    --muted-foreground: 220 10% 38%;

    --destructive: 0 75% 50%;
    --destructive-foreground: 0 0% 100%;

    --border: 20 15% 88%;
    --input: 20 15% 88%;
    --ring: var(--primary);

    --container-x: clamp(1rem, 3vw, 2rem);
  }

  html {
    font-family: var(--font-sans);
    scroll-behavior: smooth;
    hanging-punctuation: first last;
    -webkit-text-size-adjust: 100%;
    text-rendering: optimizeLegibility;
  }

  body {
    @apply bg-background text-foreground antialiased;
  }

  /* Headings use display serif */
  h1, h2, h3, .heading {
    font-family: var(--font-display), serif;
    font-feature-settings: "liga" 1, "kern" 1, "ss01" 1;
    letter-spacing: -0.01em;
  }
  h1 { font-size: clamp(2rem, 3.8vw, 3.25rem); line-height: 1.06; }
  h2 { font-size: clamp(1.6rem, 2.8vw, 2.3rem); line-height: 1.12; }
  h3 { font-size: clamp(1.25rem, 1.9vw, 1.6rem); line-height: 1.18; }

  p, li { font-size: clamp(1rem, 0.8vw + .85rem, 1.125rem); line-height: 1.7; }

  a { color: hsl(var(--primary)); text-decoration: none; }
  a:hover { color: hsl(var(--terracotta)); }

  :focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px hsl(var(--primary) / .35);
  }
}

/* =========================
   COMPONENTS: buttons, cards, inputs, sections, headings
   ========================= */
@layer components {
  /* Container helpers (paired with Tailwind container) */
  .container-narrow {
    max-width: 880px;
    margin-inline: auto;
    padding-inline: var(--container-x);
  }
  .container-wide {
    max-width: 1400px;
    margin-inline: auto;
    padding-inline: var(--container-x);
  }

  /* Buttons */
  .btn {
    @apply inline-flex items-center justify-center gap-2 rounded-2xl px-5 py-3 font-medium transition shadow-soft focus-visible:outline-none active:scale-[.98];
  }
  .btn-sm { @apply px-3 py-2 text-sm rounded-xl; }
  .btn-lg { @apply px-6 py-3.5 text-base rounded-2xl; }
  .btn-pill { @apply rounded-full; }

  .btn-primary    { @apply bg-primary text-primary-foreground hover:shadow-hover; }
  .btn-terracotta { @apply bg-[hsl(var(--terracotta))] text-[hsl(var(--terracotta-foreground))] hover:shadow-hover; }
  .btn-tertiary   { @apply bg-[hsl(var(--tertiary))] text-[hsl(var(--tertiary-foreground))] border border-border hover:shadow-hover; }
  .btn-quaternary { @apply bg-[hsl(var(--quaternary))] text-[hsl(var(--quaternary-foreground))] border border-border hover:shadow-hover; }

  .btn-ghost      { @apply bg-transparent text-foreground hover:bg-muted; }
  .btn-outline    { @apply border border-border text-foreground hover:border-primary hover:text-primary; }
  .btn-outline-terracotta { @apply border border-[hsl(var(--terracotta))] text-[hsl(var(--terracotta))] hover:bg-[hsl(var(--terracotta))/0.08]; }
  .btn-outline-primary    { @apply border border-primary text-primary hover:bg-primary/10; }

  /* Badges */
  .badge { @apply inline-flex items-center rounded-full px-3 py-1 text-xs font-medium border border-transparent; }
  .badge-terracotta { @apply bg-[hsl(var(--terracotta))] text-[hsl(var(--terracotta-foreground))]; }
  .badge-tertiary   { @apply bg-[hsl(var(--tertiary))] text-[hsl(var(--tertiary-foreground))]; }
  .badge-quaternary { @apply bg-[hsl(var(--quaternary))] text-[hsl(var(--quaternary-foreground))]; }

  /* Cards */
  .card       { @apply bg-card text-card-foreground rounded-2xl shadow-soft border border-border; }
  .card-hover { @apply transition hover:shadow-hover hover:-translate-y-0.5; }

  /* Inputs */
  .input, .textarea, .select {
    @apply w-full rounded-xl border border-input bg-background px-4 py-3 text-base placeholder:text-muted-foreground focus:ring-2 focus:ring-primary/30 focus:border-primary;
  }
  .textarea { @apply min-h-[120px]; }

  /* Sections */
  .section { @apply py-section-y; }
  .section-narrow { @apply py-section-y container-narrow; }
  .section-wide { @apply py-section-y container-wide; }
  .section-cream { @apply bg-[hsl(var(--section-cream))]; }

  /* Heading utilities */
  .h1 { @apply heading text-4xl md:text-5xl lg:text-6xl; }
  .h2 { @apply heading text-3xl md:text-4xl; }
  .h3 { @apply heading text-2xl md:text-3xl; }
  .eyebrow { @apply uppercase tracking-wider text-sm text-muted-foreground; }
}

/* =========================
   UTILITIES: quick helpers & content styling
   ========================= */
@layer utilities {
  .img-soft { @apply rounded-2xl border border-border; }

  /* Direct color helpers (if you prefer utilities over components) */
  .bg-terracotta   { background-color: hsl(var(--terracotta)); }
  .text-terracotta { color: hsl(var(--terracotta)); }

  .bg-tertiary     { background-color: hsl(var(--tertiary)); }
  .text-tertiary   { color: hsl(var(--tertiary)); }

  .bg-quaternary   { background-color: hsl(var(--quaternary)); }
  .text-quaternary { color: hsl(var(--quaternary)); }

  .bg-cream        { background-color: hsl(var(--section-cream)); }

  /* Optional: prose mapping for long-form content */
  .prose-brand {
    --tw-prose-body: hsl(var(--foreground));
    --tw-prose-headings: hsl(var(--brand));
    --tw-prose-links: hsl(var(--terracotta));
    --tw-prose-bold: hsl(var(--foreground));
    --tw-prose-bullets: hsl(var(--muted-foreground));
  }
}
